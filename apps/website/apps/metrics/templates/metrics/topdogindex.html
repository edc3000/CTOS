{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="topdogindex-container">
  <div class="indicator-header">
    <div class="breadcrumb">
      <a href="{% url 'metrics_home' %}">æŒ‡æ ‡ä¸­å¿ƒ</a>
      <span class="separator">></span>
      <span class="current">TOPDOGINDEX æŒ‡æ ‡</span>
    </div>
    
    <div class="indicator-info">
      <h2>TOPDOGINDEX å¤šæ—¶é—´æ¡†æ¶åˆ†æ</h2>
      <p>å¤šæ—¶é—´æ¡†æ¶å¯¹æ¯”åˆ†æï¼ŒåŒ…å«6å¼ comparisonå›¾ç‰‡</p>
    </div>
  </div>

  <div class="controls-panel">
    <div class="control-group">
      <label for="timeframe-select">æ—¶é—´æ¡†æ¶:</label>
      <select id="timeframe-select">
        <option value="all">å…¨éƒ¨æ˜¾ç¤º</option>
        {% for timeframe in timeframes %}
        <option value="{{ timeframe }}">{{ timeframe|upper }}</option>
        {% endfor %}
      </select>
    </div>
    
    <div class="control-group">
      <label for="display-mode-select">å±•ç¤ºæ¨¡å¼:</label>
      <select id="display-mode-select">
        <option value="grid">ç½‘æ ¼å¸ƒå±€</option>
        <option value="single">å•é¡µå±•ç¤º</option>
      </select>
    </div>
    
    <div class="control-group">
      <button id="refresh-btn" class="btn btn-primary">
        <span class="refresh-icon">ğŸ”„</span>
        æ‰‹åŠ¨åˆ·æ–°
      </button>
    </div>
    
    <div class="control-group">
      <label>
        <input type="checkbox" id="auto-refresh-checkbox" checked>
        è‡ªåŠ¨åˆ·æ–° (10ç§’)
      </label>
    </div>
  </div>

  <div class="charts-container" id="charts-container">
    <!-- å›¾è¡¨å°†åœ¨è¿™é‡ŒåŠ¨æ€åŠ è½½ -->
  </div>

  <div class="loading-overlay" id="loading-overlay">
    <div class="loading-spinner"></div>
    <p>æ­£åœ¨åŠ è½½å›¾è¡¨...</p>
  </div>
</div>

<script src="{% static 'js/topdogindex.js' %}"></script>
<script>
  // ä¼ é€’é…ç½®ç»™JavaScript
  window.topdogindexConfig = {
    timeframes: {{ timeframes|safe }},
    indicatorId: '{{ indicator_id }}'
  };
</script>
{% endblock %}
